# å­¦ç”Ÿç«¯å…¨åŠŸèƒ½ä¼˜åŒ–æ–¹æ¡ˆ

> ç‰ˆæœ¬ï¼šv3.03
> æ—¥æœŸï¼š2026-01-10
> ç›®æ ‡ï¼šå…¨é¢æå‡å­¦ç”Ÿç«¯ç”¨æˆ·ä½“éªŒã€æ€§èƒ½å’Œç¨³å®šæ€§

---

## ğŸ“‹ ç›®å½•

1. [åŠŸèƒ½æ¨¡å—æ¦‚è§ˆ](#åŠŸèƒ½æ¨¡å—æ¦‚è§ˆ)
2. [æ ¸å¿ƒåŠŸèƒ½ä¼˜åŒ–æ–¹æ¡ˆ](#æ ¸å¿ƒåŠŸèƒ½ä¼˜åŒ–æ–¹æ¡ˆ)
3. [é€šç”¨æ€§èƒ½ä¼˜åŒ–](#é€šç”¨æ€§èƒ½ä¼˜åŒ–)
4. [ç”¨æˆ·ä½“éªŒå¢å¼º](#ç”¨æˆ·ä½“éªŒå¢å¼º)
5. [å®‰å…¨æ€§ä¼˜åŒ–](#å®‰å…¨æ€§ä¼˜åŒ–)
6. [ç§»åŠ¨ç«¯ä¼˜åŒ–](#ç§»åŠ¨ç«¯ä¼˜åŒ–)
7. [AIåŠŸèƒ½å¢å¼º](#aiåŠŸèƒ½å¢å¼º)
8. [æŠ€æœ¯å€ºåŠ¡æ¸…ç†](#æŠ€æœ¯å€ºåŠ¡æ¸…ç†)
9. [å®æ–½è·¯çº¿å›¾](#å®æ–½è·¯çº¿å›¾)
10. [é¢„æœŸæ”¶ç›Šåˆ†æ](#é¢„æœŸæ”¶ç›Šåˆ†æ)

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—æ¦‚è§ˆ

### å­¦ç”Ÿç«¯åŠŸèƒ½çŸ©é˜µ

| æ¨¡å— | è·¯ç”± | ä¼˜å…ˆçº§ | å½“å‰çŠ¶æ€ | ä¼˜åŒ–éœ€æ±‚ |
|------|------|--------|---------|---------|
| ä»ªè¡¨æ¿é¦–é¡µ | `/student/dashboard` | â­â­â­â­â­ | è‰¯å¥½ | æ€§èƒ½ä¼˜åŒ– |
| åœ¨çº¿ç»ƒä¹  | `/student/practice` | â­â­â­â­â­ | è‰¯å¥½ | ä½“éªŒä¼˜åŒ– |
| æ¨¡æ‹Ÿè€ƒè¯• | `/student/exams` | â­â­â­â­â­ | è‰¯å¥½ | ç­›é€‰ä¼˜åŒ– |
| è€ƒè¯•ç­”é¢˜ | `/student/exam/:id` | â­â­â­â­â­ | è‰¯å¥½ | é˜²ä½œå¼Šå¢å¼º |
| å†å²è®°å½• | `/student/history` | â­â­â­â­ | ä¸€èˆ¬ | æ•°æ®åˆ†æ |
| ç»“æœè¯¦æƒ… | `/student/history/:id` | â­â­â­â­ | è‰¯å¥½ | å¯è§†åŒ– |
| é”™é¢˜æœ¬ | `/student/wrong-records` | â­â­â­â­â­ | è‰¯å¥½ | AIå¢å¼º |
| æ”¶è—å¤¹ | `/student/favorites` | â­â­â­ | ä¸€èˆ¬ | åˆ†ç±»ç®¡ç† |
| æ™ºèƒ½å¤ä¹  | `/student/review` | â­â­â­â­â­ | è‰¯å¥½ | ç®—æ³•ä¼˜åŒ– |
| æˆ‘çš„ç­çº§ | `/student/classes` | â­â­â­â­ | è‰¯å¥½ | ç¤¾äº¤åŠŸèƒ½ |
| è¯¾ç¨‹ä¸­å¿ƒ | `/student/courses` | â­â­â­â­ | è‰¯å¥½ | è¿›åº¦è¿½è¸ª |
| çŸ¥è¯†å¯¹æˆ˜ | `/student/battle` | â­â­â­â­â­ | ä¼˜ç§€ | å·²ä¼˜åŒ– |
| ä¸ªäººä¸­å¿ƒ | `/student/profile` | â­â­â­ | è‰¯å¥½ | ä¸ªæ€§åŒ– |

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½ä¼˜åŒ–æ–¹æ¡ˆ

### 1. ä»ªè¡¨æ¿é¦–é¡µä¼˜åŒ– (StudentDashboard.vue)

#### 1.1 å½“å‰é—®é¢˜åˆ†æ
- é¦–å±åŠ è½½æ—¶é—´è¾ƒé•¿ï¼ˆå¤šä¸ªAPIå¹¶å‘è¯·æ±‚ï¼‰
- çƒ­åŠ›å›¾æ•°æ®é‡å¤§å½±å“æ¸²æŸ“æ€§èƒ½
- æ’è¡Œæ¦œæ— åˆ†é¡µï¼Œæ•°æ®è¿‡å¤šæ—¶å¡é¡¿
- ç¼ºå°‘æ•°æ®ç¼“å­˜æœºåˆ¶

#### 1.2 æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

**A. APIè¯·æ±‚ä¼˜åŒ–**
```typescript
// ä¼˜åŒ–å‰ï¼šå¤šä¸ªä¸²è¡Œè¯·æ±‚
onMounted(async () => {
  await fetchDashboardStats();
  await fetchActivityHeatmap();
  await fetchLeaderboard();
  await fetchAchievements();
});

// ä¼˜åŒ–åï¼šå¹¶å‘è¯·æ±‚ + é”™è¯¯å®¹é”™
onMounted(async () => {
  const promises = [
    fetchDashboardStats().catch(e => console.error('Stats error:', e)),
    fetchActivityHeatmap().catch(e => console.error('Heatmap error:', e)),
    fetchLeaderboard().catch(e => console.error('Leaderboard error:', e)),
    fetchAchievements().catch(e => console.error('Achievements error:', e))
  ];

  await Promise.allSettled(promises);
  loading.value = false;
});
```

**B. æ•°æ®ç¼“å­˜ç­–ç•¥**
```typescript
// ä½¿ç”¨PiniaæŒä¹…åŒ– + æ—¶é—´æˆ³ç¼“å­˜
interface CachedData<T> {
  data: T;
  timestamp: number;
  ttl: number; // ç¼“å­˜æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
}

const useDashboardCache = defineStore('dashboardCache', {
  state: () => ({
    stats: null as CachedData<any> | null,
    heatmap: null as CachedData<any> | null,
  }),

  actions: {
    async getStats() {
      if (this.stats && Date.now() - this.stats.timestamp < this.stats.ttl) {
        return this.stats.data; // è¿”å›ç¼“å­˜
      }

      const data = await fetchDashboardStats();
      this.stats = { data, timestamp: Date.now(), ttl: 5 * 60 * 1000 }; // 5åˆ†é’Ÿç¼“å­˜
      return data;
    }
  }
});
```

**C. çƒ­åŠ›å›¾æ€§èƒ½ä¼˜åŒ–**
```vue
<template>
  <!-- ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æˆ–æ‡’åŠ è½½ -->
  <div v-if="showHeatmap" class="heatmap-container">
    <HeatmapChart
      :data="heatmapData"
      :lazy="true"
      :debounce="300"
    />
  </div>
</template>

<script setup>
import { useIntersectionObserver } from '@vueuse/core';

// ä»…å½“çƒ­åŠ›å›¾è¿›å…¥è§†å£æ—¶æ‰æ¸²æŸ“
const heatmapRef = ref(null);
const showHeatmap = ref(false);

useIntersectionObserver(
  heatmapRef,
  ([{ isIntersecting }]) => {
    if (isIntersecting) showHeatmap.value = true;
  },
  { threshold: 0.1 }
);
</script>
```

**D. æ’è¡Œæ¦œè™šæ‹Ÿæ»šåŠ¨**
```bash
npm install vue-virtual-scroller
```

```vue
<RecycleScroller
  class="leaderboard-list"
  :items="leaderboardData"
  :item-size="72"
  key-field="id"
  v-slot="{ item, index }"
>
  <div class="leaderboard-item">
    <span class="rank">{{ index + 1 }}</span>
    <UserAvatar :src="item.avatar" :size="40" />
    <span class="name">{{ item.name }}</span>
    <span class="points">{{ item.points }}</span>
  </div>
</RecycleScroller>
```

#### 1.3 åŠŸèƒ½å¢å¼ºæ–¹æ¡ˆ

**A. ä¸ªæ€§åŒ–æ¨è**
```vue
<!-- åŸºäºå­¦ä¹ æ•°æ®çš„æ™ºèƒ½æ¨è -->
<el-card class="recommendation-card">
  <template #header>
    <span>ğŸ¯ ä¸ºä½ æ¨è</span>
  </template>

  <div v-if="weakSubjects.length > 0">
    <p>æ£€æµ‹åˆ°ä½ åœ¨ <strong>{{ weakSubjects[0].name }}</strong> è¾ƒå¼±ï¼Œå»ºè®®ï¼š</p>
    <ul>
      <li @click="goToPractice(weakSubjects[0].id)">
        ğŸ“ ä¸“é¡¹ç»ƒä¹ ï¼ˆ{{ weakSubjects[0].questionCount }}é¢˜ï¼‰
      </li>
      <li @click="goToWrongRecords(weakSubjects[0].id)">
        ğŸ” æŸ¥çœ‹é”™é¢˜ï¼ˆ{{ weakSubjects[0].wrongCount }}é¢˜ï¼‰
      </li>
      <li @click="goToCourses(weakSubjects[0].id)">
        ğŸ“š å­¦ä¹ è¯¾ç¨‹ï¼ˆ{{ weakSubjects[0].courseCount }}ä¸ªï¼‰
      </li>
    </ul>
  </div>
</el-card>
```

**B. å­¦ä¹ ç›®æ ‡è®¾å®š**
```vue
<el-dialog v-model="showGoalSetting" title="è®¾ç½®å­¦ä¹ ç›®æ ‡">
  <el-form :model="goalForm">
    <el-form-item label="æœ¬å‘¨ç­”é¢˜ç›®æ ‡">
      <el-input-number v-model="goalForm.weeklyQuestions" :min="10" :max="500" />
    </el-form-item>
    <el-form-item label="ç›®æ ‡æ­£ç¡®ç‡">
      <el-slider v-model="goalForm.targetAccuracy" :min="60" :max="100" show-stops />
    </el-form-item>
    <el-form-item label="æ¯æ—¥å­¦ä¹ æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰">
      <el-input-number v-model="goalForm.dailyMinutes" :min="10" :max="180" />
    </el-form-item>
  </el-form>

  <!-- ç›®æ ‡è¿›åº¦å±•ç¤º -->
  <div class="goal-progress">
    <el-progress
      :percentage="goalProgress"
      :color="goalProgressColor"
      :status="goalStatus"
    />
    <p>æœ¬å‘¨å·²å®Œæˆ {{ completedQuestions }} / {{ goalForm.weeklyQuestions }} é¢˜</p>
  </div>
</el-dialog>
```

**C. æ•°æ®å¯è§†åŒ–å¢å¼º**
```typescript
// å­¦ä¹ æ—¶é—´åˆ†å¸ƒï¼ˆç¯å½¢å›¾ï¼‰
const initTimeDistributionChart = () => {
  const option = {
    title: { text: 'å­¦ä¹ æ—¶é—´åˆ†å¸ƒ', left: 'center' },
    tooltip: { trigger: 'item' },
    series: [{
      type: 'pie',
      radius: ['40%', '70%'],
      avoidLabelOverlap: false,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2
      },
      data: [
        { value: mathTime, name: 'æ•°å­¦' },
        { value: chineseTime, name: 'è¯­æ–‡' },
        { value: englishTime, name: 'è‹±è¯­' },
        { value: physicsTime, name: 'ç‰©ç†' }
      ]
    }]
  };

  chart.setOption(option);
};

// æ­£ç¡®ç‡è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰
const initAccuracyTrendChart = () => {
  const option = {
    title: { text: 'è¿‘30å¤©æ­£ç¡®ç‡è¶‹åŠ¿' },
    xAxis: { type: 'category', data: last30Days },
    yAxis: { type: 'value', min: 0, max: 100, name: 'æ­£ç¡®ç‡(%)' },
    series: [{
      type: 'line',
      data: accuracyData,
      smooth: true,
      areaStyle: {
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
          { offset: 0, color: 'rgba(58, 77, 233, 0.3)' },
          { offset: 1, color: 'rgba(58, 77, 233, 0.05)' }
        ])
      },
      markLine: {
        data: [{ type: 'average', name: 'å¹³å‡å€¼' }]
      }
    }]
  };

  chart.setOption(option);
};
```

---

### 2. åœ¨çº¿ç»ƒä¹ ä¼˜åŒ– (Practice.vue)

#### 2.1 å½“å‰é—®é¢˜åˆ†æ
- é¢˜ç›®åŠ è½½æ— é¢„åŠ è½½æœºåˆ¶ï¼Œåˆ‡é¢˜æ—¶æœ‰å»¶è¿Ÿ
- å¤šé€‰é¢˜ç­”æ¡ˆæäº¤é€»è¾‘ä¸å¤Ÿå‹å¥½
- ç¼ºå°‘ç­”é¢˜å†å²è®°å½•
- ç»ƒä¹ ç»“æœç»Ÿè®¡è¾ƒç®€å•

#### 2.2 é¢˜ç›®é¢„åŠ è½½æœºåˆ¶

```typescript
// é¢˜ç›®é¢„åŠ è½½é˜Ÿåˆ—
const questionQueue = ref<Question[]>([]);
const PRELOAD_SIZE = 3; // é¢„åŠ è½½3é¢˜

const preloadQuestions = async () => {
  if (questionQueue.value.length < PRELOAD_SIZE) {
    const needed = PRELOAD_SIZE - questionQueue.value.length;
    const newQuestions = await fetchPracticeQuestions({
      subjectId: selectedSubject.value,
      grade: selectedGrade.value,
      mode: practiceMode.value,
      count: needed
    });

    questionQueue.value.push(...newQuestions);
  }
};

const nextQuestion = async () => {
  if (questionQueue.value.length === 0) {
    await preloadQuestions();
  }

  currentQuestion.value = questionQueue.value.shift();

  // å¼‚æ­¥é¢„åŠ è½½ä¸‹ä¸€é¢˜
  if (questionQueue.value.length < 2) {
    preloadQuestions();
  }
};
```

#### 2.3 ç­”é¢˜ä½“éªŒä¼˜åŒ–

**A. å¤šé€‰é¢˜ä¼˜åŒ–**
```vue
<template>
  <!-- å¤šé€‰é¢˜ç­”æ¡ˆç¡®è®¤æœºåˆ¶ -->
  <div v-if="currentQuestion.questionType === 2" class="multi-select-hint">
    <el-alert
      type="info"
      :closable="false"
      show-icon
    >
      å·²é€‰æ‹© {{ selectedAnswers.length }} ä¸ªé€‰é¡¹
      <el-button
        v-if="selectedAnswers.length > 0"
        type="primary"
        size="small"
        @click="confirmAnswer"
        style="margin-left: 10px;"
      >
        ç¡®è®¤æäº¤
      </el-button>
    </el-alert>
  </div>
</template>
```

**B. ç­”é¢˜å¿«æ·é”®**
```typescript
// é”®ç›˜å¿«æ·é”®æ”¯æŒ
onMounted(() => {
  document.addEventListener('keydown', handleKeyPress);
});

onUnmounted(() => {
  document.removeEventListener('keydown', handleKeyPress);
});

const handleKeyPress = (e: KeyboardEvent) => {
  // å•é€‰é¢˜å¿«æ·é”® (A-D)
  if (currentQuestion.value.questionType === 1) {
    const key = e.key.toUpperCase();
    if (['A', 'B', 'C', 'D'].includes(key)) {
      selectAnswer(key);
    }
  }

  // ç©ºæ ¼é”®æŸ¥çœ‹ç­”æ¡ˆï¼ˆå·²æäº¤åï¼‰
  if (e.code === 'Space' && hasSubmitted.value) {
    showAnswer.value = !showAnswer.value;
  }

  // å›è½¦é”®ä¸‹ä¸€é¢˜
  if (e.code === 'Enter' && canNext.value) {
    nextQuestion();
  }
};
```

**C. ç­”é¢˜è®¡æ—¶å™¨**
```vue
<div class="question-timer">
  <el-icon><Clock /></el-icon>
  <span>{{ formatTime(elapsedTime) }}</span>

  <!-- è¶…è¿‡å»ºè®®æ—¶é—´æç¤º -->
  <el-tag
    v-if="elapsedTime > suggestedTime"
    type="warning"
    size="small"
  >
    å»ºè®®æ—¶é—´ {{ suggestedTime }}s
  </el-tag>
</div>

<script setup>
const elapsedTime = ref(0);
const suggestedTime = computed(() => {
  // æ ¹æ®é¢˜å‹å»ºè®®ç­”é¢˜æ—¶é—´
  const timeMap = { 1: 60, 2: 90, 3: 45, 4: 30, 5: 180 };
  return timeMap[currentQuestion.value.questionType] || 60;
});

let timer: any = null;
watch(() => currentQuestion.value, () => {
  elapsedTime.value = 0;
  clearInterval(timer);
  timer = setInterval(() => elapsedTime.value++, 1000);
});
</script>
```

#### 2.4 æ™ºèƒ½ç»ƒä¹ ç®—æ³•ä¼˜åŒ–

```typescript
// åŸºäºçŸ¥è¯†å›¾è°±çš„æ™ºèƒ½å‡ºé¢˜
interface KnowledgeNode {
  id: number;
  name: string;
  masteryLevel: number; // 0-100 æŒæ¡åº¦
  errorRate: number; // é”™è¯¯ç‡
  lastPracticeTime: Date;
  prerequisites: number[]; // å‰ç½®çŸ¥è¯†ç‚¹
}

const getSmartQuestions = async () => {
  // 1. è·å–çŸ¥è¯†æŒæ¡åº¦æ•°æ®
  const knowledgeMap = await fetchKnowledgeMastery();

  // 2. æ‰¾å‡ºè–„å¼±çŸ¥è¯†ç‚¹ï¼ˆæŒæ¡åº¦ < 60%ï¼‰
  const weakPoints = knowledgeMap.filter(k => k.masteryLevel < 60);

  // 3. æ£€æŸ¥å‰ç½®çŸ¥è¯†ç‚¹æ˜¯å¦å·²æŒæ¡
  const readyToLearn = weakPoints.filter(point => {
    const prereqsMastered = point.prerequisites.every(prereqId => {
      const prereq = knowledgeMap.find(k => k.id === prereqId);
      return prereq && prereq.masteryLevel >= 70;
    });
    return prereqsMastered;
  });

  // 4. æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆé”™è¯¯ç‡é«˜ + é•¿æ—¶é—´æœªç»ƒä¹ ï¼‰
  const sorted = readyToLearn.sort((a, b) => {
    const scoreA = a.errorRate * 0.6 + getDaysSince(a.lastPracticeTime) * 0.4;
    const scoreB = b.errorRate * 0.6 + getDaysSince(b.lastPracticeTime) * 0.4;
    return scoreB - scoreA;
  });

  // 5. è·å–å¯¹åº”é¢˜ç›®
  const targetKnowledgeId = sorted[0]?.id;
  return await fetchQuestionsByKnowledge(targetKnowledgeId);
};
```

#### 2.5 ç»ƒä¹ æŠ¥å‘Šå¢å¼º

```vue
<el-dialog v-model="showReport" title="ç»ƒä¹ æŠ¥å‘Š" width="700px">
  <!-- æ€»ä½“ç»Ÿè®¡ -->
  <div class="report-summary">
    <el-statistic title="æ€»é¢˜æ•°" :value="totalQuestions" />
    <el-statistic title="æ­£ç¡®æ•°" :value="correctCount" />
    <el-statistic title="æ­£ç¡®ç‡" :value="accuracy" suffix="%" />
    <el-statistic title="ç”¨æ—¶" :value="totalTime" suffix="ç§’" />
  </div>

  <!-- é¢˜å‹åˆ†æ -->
  <div class="question-type-analysis">
    <div ref="typeChartRef" style="width: 100%; height: 300px;"></div>
  </div>

  <!-- çŸ¥è¯†ç‚¹æŒæ¡åº¦ -->
  <el-table :data="knowledgeReport" style="margin-top: 20px;">
    <el-table-column prop="name" label="çŸ¥è¯†ç‚¹" />
    <el-table-column label="æŒæ¡åº¦">
      <template #default="{ row }">
        <el-progress
          :percentage="row.mastery"
          :color="getMasteryColor(row.mastery)"
        />
      </template>
    </el-table-column>
    <el-table-column label="å»ºè®®">
      <template #default="{ row }">
        <el-tag v-if="row.mastery < 60" type="danger">éœ€åŠ å¼º</el-tag>
        <el-tag v-else-if="row.mastery < 80" type="warning">ç»§ç»­ç»ƒä¹ </el-tag>
        <el-tag v-else type="success">æŒæ¡è‰¯å¥½</el-tag>
      </template>
    </el-table-column>
  </el-table>

  <!-- é”™é¢˜å›é¡¾ -->
  <div class="wrong-questions-review">
    <h4>é”™é¢˜å›é¡¾</h4>
    <el-button @click="addAllToWrongBook">å…¨éƒ¨åŠ å…¥é”™é¢˜æœ¬</el-button>
    <el-button @click="practiceWrongAgain">é‡æ–°ç»ƒä¹ é”™é¢˜</el-button>
  </div>
</el-dialog>
```

---

### 3. è€ƒè¯•ç­”é¢˜ä¼˜åŒ– (ExamTaking.vue)

#### 3.1 é˜²ä½œå¼Šå¢å¼º

**A. äººè„¸è¯†åˆ«æŠ“æ‹**
```typescript
// ä½¿ç”¨æ‘„åƒå¤´å®šæœŸæŠ“æ‹
import { useUserMedia } from '@vueuse/core';

const { stream, enabled } = useUserMedia({
  video: { width: 640, height: 480 }
});

const captureInterval = ref<any>(null);
const capturedImages = ref<string[]>([]);

const startProctoring = () => {
  // æ¯30ç§’æŠ“æ‹ä¸€æ¬¡
  captureInterval.value = setInterval(() => {
    captureSnapshot();
  }, 30000);
};

const captureSnapshot = () => {
  const video = document.querySelector('video');
  const canvas = document.createElement('canvas');
  canvas.width = 640;
  canvas.height = 480;
  const ctx = canvas.getContext('2d');
  ctx?.drawImage(video, 0, 0);

  const imageData = canvas.toDataURL('image/jpeg', 0.7);
  capturedImages.value.push(imageData);

  // ä¸Šä¼ åˆ°æœåŠ¡å™¨
  uploadProctorImage(imageData);
};
```

**B. å±å¹•å½•åˆ¶ï¼ˆä»…è®°å½•å…ƒæ•°æ®ï¼‰**
```typescript
// è®°å½•å±å¹•æ´»åŠ¨æ—¥å¿—
interface ActivityLog {
  timestamp: number;
  type: 'focus' | 'blur' | 'visibilityChange' | 'fullscreenExit';
  questionId?: number;
}

const activityLogs = ref<ActivityLog[]>([]);

const logActivity = (type: ActivityLog['type']) => {
  activityLogs.value.push({
    timestamp: Date.now(),
    type,
    questionId: currentQuestion.value?.id
  });
};

// ç›‘å¬å„ç§äº‹ä»¶
window.addEventListener('blur', () => logActivity('blur'));
document.addEventListener('visibilitychange', () => {
  if (document.hidden) logActivity('visibilityChange');
});
document.addEventListener('fullscreenchange', () => {
  if (!document.fullscreenElement) logActivity('fullscreenExit');
});
```

**C. å¼‚å¸¸è¡Œä¸ºAIæ£€æµ‹**
```typescript
// ç­”é¢˜é€Ÿåº¦å¼‚å¸¸æ£€æµ‹
const detectAnomalies = () => {
  const anomalies = [];

  // 1. ç­”é¢˜è¿‡å¿«ï¼ˆå¯èƒ½ä½œå¼Šï¼‰
  if (averageAnswerTime.value < 5) {
    anomalies.push({
      type: 'TOO_FAST',
      message: 'ç­”é¢˜é€Ÿåº¦å¼‚å¸¸å¿«',
      severity: 'HIGH'
    });
  }

  // 2. ç­”é¢˜æ¨¡å¼è§„å¾‹ï¼ˆå¦‚ABCDå¾ªç¯ï¼‰
  const lastFiveAnswers = answers.value.slice(-5).map(a => a.answer);
  if (isPattern(lastFiveAnswers)) {
    anomalies.push({
      type: 'PATTERN_DETECTED',
      message: 'æ£€æµ‹åˆ°è§„å¾‹æ€§ç­”é¢˜',
      severity: 'MEDIUM'
    });
  }

  // 3. æ­£ç¡®ç‡çªå˜
  const recentAccuracy = calculateRecentAccuracy(10);
  const overallAccuracy = calculateOverallAccuracy();
  if (Math.abs(recentAccuracy - overallAccuracy) > 30) {
    anomalies.push({
      type: 'ACCURACY_SPIKE',
      message: 'æ­£ç¡®ç‡å¼‚å¸¸æ³¢åŠ¨',
      severity: 'MEDIUM'
    });
  }

  return anomalies;
};
```

#### 3.2 ç­”é¢˜ä½“éªŒä¼˜åŒ–

**A. ç­”é¢˜å¡ä¼˜åŒ–**
```vue
<div class="answer-card-enhanced">
  <!-- é¢˜ç›®å¯¼èˆª -->
  <div class="nav-buttons">
    <el-button-group>
      <el-button @click="goToPrev" :disabled="currentIndex === 0">
        <el-icon><ArrowLeft /></el-icon> ä¸Šä¸€é¢˜
      </el-button>
      <el-button @click="goToNext" :disabled="currentIndex === totalQuestions - 1">
        ä¸‹ä¸€é¢˜ <el-icon><ArrowRight /></el-icon>
      </el-button>
    </el-button-group>
  </div>

  <!-- é¢˜ç›®çŠ¶æ€ç½‘æ ¼ -->
  <div class="question-grid">
    <div
      v-for="(q, index) in questions"
      :key="index"
      class="question-cell"
      :class="{
        'current': index === currentIndex,
        'answered': isAnswered(index),
        'marked': isMarked(index),
        'unanswered': !isAnswered(index)
      }"
      @click="jumpToQuestion(index)"
    >
      {{ index + 1 }}
      <el-icon v-if="isMarked(index)" class="mark-icon"><Flag /></el-icon>
    </div>
  </div>

  <!-- ç»Ÿè®¡ä¿¡æ¯ -->
  <div class="answer-stats">
    <div class="stat-item">
      <span class="label">å·²ç­”</span>
      <span class="value">{{ answeredCount }}</span>
    </div>
    <div class="stat-item">
      <span class="label">æœªç­”</span>
      <span class="value">{{ unansweredCount }}</span>
    </div>
    <div class="stat-item">
      <span class="label">æ ‡è®°</span>
      <span class="value">{{ markedCount }}</span>
    </div>
  </div>

  <!-- æ ‡è®°åŠŸèƒ½ -->
  <el-button
    @click="toggleMark(currentIndex)"
    :type="isMarked(currentIndex) ? 'warning' : 'default'"
  >
    <el-icon><Flag /></el-icon>
    {{ isMarked(currentIndex) ? 'å–æ¶ˆæ ‡è®°' : 'æ ‡è®°æœ¬é¢˜' }}
  </el-button>
</div>
```

**B. è‡ªåŠ¨ä¿å­˜æœºåˆ¶**
```typescript
// é˜²æ­¢æ„å¤–å…³é—­ä¸¢å¤±ç­”æ¡ˆ
import { useLocalStorage } from '@vueuse/core';

const AUTOSAVE_KEY = `exam_draft_${paperId}`;
const answers = useLocalStorage(AUTOSAVE_KEY, {});

// æ¯æ¬¡ç­”é¢˜è‡ªåŠ¨ä¿å­˜
watch(answers, (newAnswers) => {
  console.log('ç­”æ¡ˆå·²è‡ªåŠ¨ä¿å­˜');
}, { deep: true });

// æäº¤æˆåŠŸåæ¸…é™¤ç¼“å­˜
const submitExam = async () => {
  try {
    await submitExamApi(answers.value);
    localStorage.removeItem(AUTOSAVE_KEY);
    ElMessage.success('æäº¤æˆåŠŸ');
  } catch (error) {
    ElMessage.error('æäº¤å¤±è´¥ï¼Œç­”æ¡ˆå·²ä¿å­˜æœ¬åœ°');
  }
};

// é¡µé¢åŠ è½½æ—¶æ¢å¤è‰ç¨¿
onMounted(() => {
  if (answers.value && Object.keys(answers.value).length > 0) {
    ElMessageBox.confirm(
      'æ£€æµ‹åˆ°æœªæäº¤çš„ç­”æ¡ˆè‰ç¨¿ï¼Œæ˜¯å¦æ¢å¤ï¼Ÿ',
      'æç¤º',
      {
        confirmButtonText: 'æ¢å¤',
        cancelButtonText: 'é‡æ–°å¼€å§‹',
        type: 'info'
      }
    ).then(() => {
      // æ¢å¤ç­”æ¡ˆ
    }).catch(() => {
      localStorage.removeItem(AUTOSAVE_KEY);
    });
  }
});
```

**C. å€’è®¡æ—¶ä¼˜åŒ–**
```vue
<div class="exam-timer-enhanced">
  <div class="time-display" :class="timerClass">
    <el-icon><Clock /></el-icon>
    <span class="time">{{ formatTime(remainingTime) }}</span>
  </div>

  <!-- æ—¶é—´ä¸è¶³æé†’ -->
  <el-alert
    v-if="remainingTime < 300 && remainingTime > 0"
    type="warning"
    :closable="false"
    show-icon
  >
    å‰©ä½™æ—¶é—´ä¸è¶³5åˆ†é’Ÿï¼Œè¯·æŠ“ç´§ç­”é¢˜ï¼
  </el-alert>

  <!-- è¿›åº¦æ¡ -->
  <el-progress
    :percentage="timeProgress"
    :color="timeProgressColor"
    :show-text="false"
    style="margin-top: 8px;"
  />
</div>

<script setup>
const timerClass = computed(() => {
  if (remainingTime.value < 60) return 'danger blink';
  if (remainingTime.value < 300) return 'warning';
  return 'normal';
});

const timeProgressColor = computed(() => {
  const percentage = (remainingTime.value / totalTime) * 100;
  if (percentage < 10) return '#f56c6c';
  if (percentage < 25) return '#e6a23c';
  return '#67c23a';
});
</script>

<style scoped>
.danger.blink {
  animation: blink 1s infinite;
}

@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}
</style>
```

---

### 4. é”™é¢˜æœ¬ä¼˜åŒ– (MyWrongRecords.vue)

#### 4.1 AIåŠŸèƒ½å¢å¼º

**A. æ™ºèƒ½é”™å› åˆ†æ**
```typescript
// è°ƒç”¨AIåˆ†æé”™è¯¯åŸå› 
const analyzeWrongReason = async (question: Question, userAnswer: string) => {
  const prompt = `
ä½œä¸ºä¸€åèµ„æ·±æ•™å¸ˆï¼Œè¯·åˆ†æå­¦ç”Ÿåœ¨ä»¥ä¸‹é¢˜ç›®ä¸­çš„é”™è¯¯åŸå› ï¼š

ã€é¢˜ç›®ã€‘
${question.content}

ã€æ­£ç¡®ç­”æ¡ˆã€‘
${question.answer}

ã€å­¦ç”Ÿç­”æ¡ˆã€‘
${userAnswer}

ã€é¢˜ç›®è§£æã€‘
${question.description}

è¯·ä»ä»¥ä¸‹ç»´åº¦åˆ†æï¼š
1. çŸ¥è¯†ç‚¹æŒæ¡æƒ…å†µ
2. å¯èƒ½çš„æ€ç»´è¯¯åŒº
3. å¸¸è§é”™è¯¯ç±»å‹ï¼ˆæ¦‚å¿µæ··æ·†ã€ç²—å¿ƒå¤§æ„ã€æ–¹æ³•ä¸å½“ç­‰ï¼‰
4. æ”¹è¿›å»ºè®®

è¯·ç”¨ç®€æ´çš„è¯­è¨€ï¼Œåˆ†ç‚¹è¯´æ˜ã€‚
`;

  const analysis = await callAIService({
    messages: [{ role: 'user', content: prompt }],
    stream: false
  });

  return analysis;
};
```

**B. çŸ¥è¯†é“¾æº¯æºå¢å¼º**
```vue
<el-dialog v-model="showKnowledgeTree" title="çŸ¥è¯†é“¾æº¯æº" width="800px">
  <!-- çŸ¥è¯†æ ‘å¯è§†åŒ– -->
  <div ref="knowledgeTreeRef" style="width: 100%; height: 500px;"></div>

  <!-- æ¨èå­¦ä¹ è·¯å¾„ -->
  <div class="learning-path">
    <h4>æ¨èå­¦ä¹ è·¯å¾„</h4>
    <el-steps :active="currentStep" finish-status="success">
      <el-step
        v-for="(step, index) in learningPath"
        :key="index"
        :title="step.name"
        :description="step.description"
      >
        <template #icon>
          <el-icon v-if="step.mastered"><Check /></el-icon>
          <el-icon v-else><Clock /></el-icon>
        </template>
      </el-step>
    </el-steps>

    <!-- å¿«æ·æ“ä½œ -->
    <div class="quick-actions">
      <el-button
        v-for="step in learningPath.filter(s => !s.mastered)"
        :key="step.id"
        @click="startLearning(step)"
      >
        å­¦ä¹  {{ step.name }}
      </el-button>
    </div>
  </div>
</el-dialog>

<script setup>
import * as echarts from 'echarts';

const initKnowledgeTree = () => {
  const chart = echarts.init(knowledgeTreeRef.value);

  const option = {
    tooltip: { trigger: 'item' },
    series: [{
      type: 'tree',
      data: [knowledgeTreeData.value],
      orient: 'vertical',
      layout: 'orthogonal',
      label: {
        position: 'top',
        rotate: 0,
        verticalAlign: 'middle',
        align: 'center'
      },
      leaves: {
        label: {
          position: 'bottom',
          rotate: 0,
          verticalAlign: 'middle',
          align: 'center'
        }
      },
      itemStyle: {
        color: (params) => {
          // å·²æŒæ¡ï¼šç»¿è‰²ï¼ŒæœªæŒæ¡ï¼šçº¢è‰²
          return params.data.mastered ? '#67c23a' : '#f56c6c';
        }
      }
    }]
  };

  chart.setOption(option);
};
</script>
```

**C. é”™é¢˜å¤ä¹ æé†’**
```typescript
// åŸºäºè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿çš„å¤ä¹ æé†’
interface ReviewSchedule {
  questionId: number;
  nextReviewDate: Date;
  reviewCount: number;
  masteryLevel: number; // 0-100
}

const calculateNextReview = (lastReviewDate: Date, reviewCount: number) => {
  // è‰¾å®¾æµ©æ–¯é—´éš”ï¼š1å¤©ã€2å¤©ã€4å¤©ã€7å¤©ã€15å¤©
  const intervals = [1, 2, 4, 7, 15, 30];
  const interval = intervals[Math.min(reviewCount, intervals.length - 1)];

  const nextDate = new Date(lastReviewDate);
  nextDate.setDate(nextDate.getDate() + interval);

  return nextDate;
};

const getDueReviews = () => {
  const today = new Date();
  return reviewSchedules.value.filter(schedule => {
    return schedule.nextReviewDate <= today && schedule.masteryLevel < 80;
  });
};

// æ¨é€æé†’
const sendReviewReminder = () => {
  const dueCount = getDueReviews().length;
  if (dueCount > 0) {
    ElNotification({
      title: 'å¤ä¹ æé†’',
      message: `ä»Šå¤©æœ‰ ${dueCount} é“é”™é¢˜éœ€è¦å¤ä¹ `,
      type: 'info',
      duration: 0,
      onClick: () => {
        router.push('/student/wrong-records?filter=due');
      }
    });
  }
};
```

#### 4.2 é”™é¢˜ç®¡ç†ä¼˜åŒ–

**A. é”™é¢˜åˆ†ç±»å’Œæ ‡ç­¾**
```vue
<el-table :data="wrongRecords">
  <el-table-column label="é¢˜ç›®" prop="content" />
  <el-table-column label="åˆ†ç±»">
    <template #default="{ row }">
      <el-tag
        v-for="tag in row.tags"
        :key="tag"
        :type="getTagType(tag)"
        size="small"
        style="margin-right: 5px;"
      >
        {{ tag }}
      </el-tag>
    </template>
  </el-table-column>
  <el-table-column label="æ“ä½œ">
    <template #default="{ row }">
      <el-dropdown @command="(cmd) => handleTagAction(cmd, row)">
        <el-button size="small">
          æ ‡ç­¾ç®¡ç† <el-icon><ArrowDown /></el-icon>
        </el-button>
        <template #dropdown>
          <el-dropdown-menu>
            <el-dropdown-item command="add">æ·»åŠ æ ‡ç­¾</el-dropdown-item>
            <el-dropdown-item command="remove">ç§»é™¤æ ‡ç­¾</el-dropdown-item>
            <el-dropdown-item divided command="archive">å½’æ¡£</el-dropdown-item>
            <el-dropdown-item command="delete">åˆ é™¤</el-dropdown-item>
          </el-dropdown-menu>
        </template>
      </el-dropdown>
    </template>
  </el-table-column>
</el-table>

<!-- æ ‡ç­¾ç­›é€‰ -->
<div class="tag-filter">
  <el-check-tag
    v-for="tag in availableTags"
    :key="tag"
    :checked="selectedTags.includes(tag)"
    @change="toggleTag(tag)"
  >
    {{ tag }}
  </el-check-tag>
</div>
```

**B. é”™é¢˜å¯¼å‡º**
```typescript
// å¯¼å‡ºä¸ºPDF
import jsPDF from 'jspdf';
import html2canvas from 'html2canvas';

const exportToPDF = async () => {
  const pdf = new jsPDF('p', 'mm', 'a4');
  const pageHeight = pdf.internal.pageSize.getHeight();
  let yPosition = 10;

  for (const [index, record] of wrongRecords.value.entries()) {
    // æ·»åŠ é¢˜ç›®
    pdf.setFontSize(12);
    pdf.text(`${index + 1}. ${record.content}`, 10, yPosition);
    yPosition += 10;

    // æ·»åŠ ç­”æ¡ˆå’Œè§£æ
    pdf.setFontSize(10);
    pdf.text(`æ­£ç¡®ç­”æ¡ˆ: ${record.answer}`, 15, yPosition);
    yPosition += 7;
    pdf.text(`æˆ‘çš„ç­”æ¡ˆ: ${record.userAnswer}`, 15, yPosition);
    yPosition += 7;
    pdf.text(`è§£æ: ${record.description}`, 15, yPosition);
    yPosition += 15;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ†é¡µ
    if (yPosition > pageHeight - 20) {
      pdf.addPage();
      yPosition = 10;
    }
  }

  pdf.save('æˆ‘çš„é”™é¢˜æœ¬.pdf');
};

// å¯¼å‡ºä¸ºWord
const exportToWord = async () => {
  const { Document, Packer, Paragraph, TextRun } = await import('docx');

  const doc = new Document({
    sections: [{
      children: wrongRecords.value.flatMap((record, index) => [
        new Paragraph({
          children: [
            new TextRun({
              text: `${index + 1}. ${record.content}`,
              bold: true,
              size: 28
            })
          ]
        }),
        new Paragraph({
          children: [
            new TextRun(`æ­£ç¡®ç­”æ¡ˆ: ${record.answer}`)
          ]
        }),
        new Paragraph({
          children: [
            new TextRun(`æˆ‘çš„ç­”æ¡ˆ: ${record.userAnswer}`)
          ]
        }),
        new Paragraph({
          children: [
            new TextRun(`è§£æ: ${record.description}`)
          ]
        }),
        new Paragraph({ text: '' }) // ç©ºè¡Œ
      ])
    }]
  });

  const blob = await Packer.toBlob(doc);
  saveAs(blob, 'æˆ‘çš„é”™é¢˜æœ¬.docx');
};
```

---

### 5. æ™ºèƒ½å¤ä¹ ä¼˜åŒ– (SmartReview.vue)

#### 5.1 å¤ä¹ ç®—æ³•ä¼˜åŒ–

```typescript
// SuperMemo SM-2 ç®—æ³•å®ç°
interface ReviewCard {
  questionId: number;
  easiness: number; // éš¾åº¦ç³»æ•° (1.3 - 2.5)
  interval: number; // å¤ä¹ é—´éš”ï¼ˆå¤©ï¼‰
  repetitions: number; // é‡å¤æ¬¡æ•°
  nextReviewDate: Date;
}

const calculateNextReview = (card: ReviewCard, quality: number) => {
  // quality: 0-5 (0=å®Œå…¨å¿˜è®°, 5=å®Œç¾å›å¿†)

  let { easiness, interval, repetitions } = card;

  // æ›´æ–°éš¾åº¦ç³»æ•°
  easiness = easiness + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02));
  easiness = Math.max(1.3, easiness);

  // æ›´æ–°é‡å¤æ¬¡æ•°å’Œé—´éš”
  if (quality < 3) {
    // å›ç­”é”™è¯¯ï¼Œé‡ç½®
    repetitions = 0;
    interval = 1;
  } else {
    repetitions++;
    if (repetitions === 1) {
      interval = 1;
    } else if (repetitions === 2) {
      interval = 6;
    } else {
      interval = Math.round(interval * easiness);
    }
  }

  // è®¡ç®—ä¸‹æ¬¡å¤ä¹ æ—¥æœŸ
  const nextDate = new Date();
  nextDate.setDate(nextDate.getDate() + interval);

  return {
    ...card,
    easiness,
    interval,
    repetitions,
    nextReviewDate: nextDate
  };
};
```

#### 5.2 å¤ä¹ æ¨¡å¼å¤šæ ·åŒ–

```vue
<template>
  <div class="review-modes">
    <!-- æ¨¡å¼é€‰æ‹© -->
    <el-radio-group v-model="reviewMode" @change="initReview">
      <el-radio-button label="standard">æ ‡å‡†æ¨¡å¼</el-radio-button>
      <el-radio-button label="quick">å¿«é€Ÿå¤ä¹ </el-radio-button>
      <el-radio-button label="exam">æ¨¡æ‹Ÿè€ƒè¯•</el-radio-button>
      <el-radio-button label="game">é—¯å…³æ¨¡å¼</el-radio-button>
    </el-radio-group>

    <!-- æ ‡å‡†æ¨¡å¼ -->
    <div v-if="reviewMode === 'standard'" class="standard-review">
      <!-- é€é¢˜å¤ä¹ ï¼Œæ˜¾ç¤ºè¯¦ç»†è§£æ -->
    </div>

    <!-- å¿«é€Ÿå¤ä¹  -->
    <div v-else-if="reviewMode === 'quick'" class="quick-review">
      <!-- å¡ç‰‡ç¿»è½¬ï¼Œå¿«é€Ÿè®°å¿† -->
      <div class="flip-card" @click="flipCard">
        <div class="card-front">
          {{ currentQuestion.content }}
        </div>
        <div class="card-back">
          <p>ç­”æ¡ˆ: {{ currentQuestion.answer }}</p>
          <p>{{ currentQuestion.description }}</p>

          <!-- è®°å¿†ç¨‹åº¦è¯„åˆ† -->
          <div class="quality-buttons">
            <el-button @click="rate(0)">å¿˜è®°</el-button>
            <el-button @click="rate(2)">å›°éš¾</el-button>
            <el-button @click="rate(3)">ä¸€èˆ¬</el-button>
            <el-button @click="rate(4)">å®¹æ˜“</el-button>
            <el-button @click="rate(5)">å®Œç¾</el-button>
          </div>
        </div>
      </div>
    </div>

    <!-- æ¨¡æ‹Ÿè€ƒè¯•æ¨¡å¼ -->
    <div v-else-if="reviewMode === 'exam'" class="exam-review">
      <!-- é™æ—¶ç­”é¢˜ï¼Œæœ€åç»Ÿä¸€æŸ¥çœ‹ç»“æœ -->
    </div>

    <!-- é—¯å…³æ¨¡å¼ -->
    <div v-else-if="reviewMode === 'game'" class="game-review">
      <div class="game-progress">
        <div class="level-info">
          <span>ç¬¬ {{ currentLevel }} å…³</span>
          <el-progress
            :percentage="levelProgress"
            :stroke-width="20"
            :color="levelColor"
          />
        </div>

        <div class="lives">
          <el-icon
            v-for="i in maxLives"
            :key="i"
            :class="{ lost: i > remainingLives }"
            color="#f56c6c"
            size="24"
          >
            <Heart />
          </el-icon>
        </div>
      </div>

      <!-- ç­”å¯¹3é¢˜è¿›å…¥ä¸‹ä¸€å…³ï¼Œç­”é”™æ‰£ç”Ÿå‘½ -->
    </div>
  </div>
</template>
```

---

### 6. æˆ‘çš„ç­çº§ä¼˜åŒ– (MyClasses.vue)

#### 6.1 ç¤¾äº¤åŠŸèƒ½å¢å¼º

**A. ç­çº§åŠ¨æ€å¢™**
```vue
<el-card class="class-feed">
  <template #header>
    <span>ç­çº§åŠ¨æ€</span>
  </template>

  <el-timeline>
    <el-timeline-item
      v-for="activity in classActivities"
      :key="activity.id"
      :timestamp="formatTime(activity.createTime)"
      placement="top"
    >
      <div class="activity-card">
        <UserAvatar :src="activity.user.avatar" :size="32" />
        <div class="activity-content">
          <p>
            <strong>{{ activity.user.name }}</strong>
            {{ activity.action }}
          </p>
          <p class="activity-detail">{{ activity.detail }}</p>
        </div>
      </div>
    </el-timeline-item>
  </el-timeline>
</el-card>

<script setup>
// æ´»åŠ¨ç±»å‹
const activityTypes = {
  'HOMEWORK_SUBMIT': 'æäº¤äº†ä½œä¸š',
  'EXAM_COMPLETE': 'å®Œæˆäº†è€ƒè¯•',
  'ACHIEVEMENT': 'è·å¾—äº†æˆå°±',
  'RANK_UP': 'æ’åæå‡'
};
</script>
```

**B. ç­çº§æ’è¡Œæ¦œ**
```vue
<el-card class="class-leaderboard">
  <template #header>
    <span>ç­çº§æ’è¡Œ</span>
    <el-radio-group v-model="rankType" size="small">
      <el-radio-button label="points">ç§¯åˆ†</el-radio-button>
      <el-radio-button label="accuracy">æ­£ç¡®ç‡</el-radio-button>
      <el-radio-button label="questions">ç­”é¢˜æ•°</el-radio-button>
    </el-radio-group>
  </template>

  <div class="podium" v-if="topThree.length === 3">
    <!-- é¢†å¥–å°æ•ˆæœ -->
    <div class="podium-item second">
      <UserAvatar :src="topThree[1].avatar" :size="48" />
      <div class="medal silver">ğŸ¥ˆ</div>
      <p>{{ topThree[1].name }}</p>
      <p class="score">{{ topThree[1].score }}</p>
    </div>

    <div class="podium-item first">
      <UserAvatar :src="topThree[0].avatar" :size="64" />
      <div class="medal gold">ğŸ¥‡</div>
      <p>{{ topThree[0].name }}</p>
      <p class="score">{{ topThree[0].score }}</p>
    </div>

    <div class="podium-item third">
      <UserAvatar :src="topThree[2].avatar" :size="48" />
      <div class="medal bronze">ğŸ¥‰</div>
      <p>{{ topThree[2].name }}</p>
      <p class="score">{{ topThree[2].score }}</p>
    </div>
  </div>

  <el-table :data="otherStudents" style="margin-top: 20px;">
    <el-table-column type="index" label="æ’å" width="80" :index="indexMethod" />
    <el-table-column label="å­¦ç”Ÿ">
      <template #default="{ row }">
        <div class="student-info">
          <UserAvatar :src="row.avatar" :size="32" />
          <span>{{ row.name }}</span>
          <el-tag v-if="row.id === myId" type="success" size="small">æˆ‘</el-tag>
        </div>
      </template>
    </el-table-column>
    <el-table-column prop="score" :label="rankTypeLabel" align="right" />
  </el-table>
</el-card>
```

**C. å­¦ä¹ å°ç»„**
```vue
<el-dialog v-model="showGroupDialog" title="å­¦ä¹ å°ç»„">
  <!-- åˆ›å»ºå°ç»„ -->
  <el-form v-if="!hasGroup">
    <el-form-item label="å°ç»„åç§°">
      <el-input v-model="groupForm.name" placeholder="å¦‚ï¼šæ•°å­¦å†²åˆºå°ç»„" />
    </el-form-item>
    <el-form-item label="å°ç»„ç®€ä»‹">
      <el-input
        v-model="groupForm.description"
        type="textarea"
        placeholder="å°ç»„ç›®æ ‡å’Œå­¦ä¹ è®¡åˆ’"
      />
    </el-form-item>
    <el-form-item label="é‚€è¯·æˆå‘˜">
      <el-select
        v-model="groupForm.members"
        multiple
        placeholder="é€‰æ‹©ç­çº§åŒå­¦"
      >
        <el-option
          v-for="student in classmates"
          :key="student.id"
          :label="student.name"
          :value="student.id"
        />
      </el-select>
    </el-form-item>
    <el-button type="primary" @click="createGroup">åˆ›å»ºå°ç»„</el-button>
  </el-form>

  <!-- å°ç»„è¯¦æƒ… -->
  <div v-else class="group-detail">
    <h3>{{ myGroup.name }}</h3>
    <p>{{ myGroup.description }}</p>

    <!-- å°ç»„æˆå‘˜ -->
    <div class="group-members">
      <div v-for="member in myGroup.members" :key="member.id" class="member-card">
        <UserAvatar :src="member.avatar" :size="40" />
        <span>{{ member.name }}</span>
        <el-tag v-if="member.isLeader" type="warning" size="small">ç»„é•¿</el-tag>
      </div>
    </div>

    <!-- å°ç»„å­¦ä¹ è®¡åˆ’ -->
    <div class="group-plan">
      <h4>æœ¬å‘¨å­¦ä¹ è®¡åˆ’</h4>
      <el-checkbox-group v-model="completedTasks">
        <el-checkbox
          v-for="task in weeklyTasks"
          :key="task.id"
          :label="task.id"
        >
          {{ task.name }} ({{ task.completedCount }}/{{ myGroup.members.length }})
        </el-checkbox>
      </el-checkbox-group>
    </div>

    <!-- å°ç»„è®¨è®º -->
    <div class="group-chat">
      <h4>è®¨è®ºåŒº</h4>
      <div class="messages">
        <div v-for="msg in groupMessages" :key="msg.id" class="message">
          <UserAvatar :src="msg.sender.avatar" :size="28" />
          <div class="message-content">
            <span class="sender">{{ msg.sender.name }}</span>
            <span class="time">{{ formatTime(msg.createTime) }}</span>
            <p>{{ msg.content }}</p>
          </div>
        </div>
      </div>
      <el-input
        v-model="newMessage"
        placeholder="è¾“å…¥æ¶ˆæ¯..."
        @keyup.enter="sendMessage"
      >
        <template #append>
          <el-button @click="sendMessage">å‘é€</el-button>
        </template>
      </el-input>
    </div>
  </div>
</el-dialog>
```

---

### 7. è¯¾ç¨‹ä¸­å¿ƒä¼˜åŒ– (StudentCourseList.vue)

#### 7.1 å­¦ä¹ è¿›åº¦è¿½è¸ª

```vue
<el-drawer v-model="showCourseDetail" :title="currentCourse.name" size="60%">
  <!-- è¯¾ç¨‹è¿›åº¦æ€»è§ˆ -->
  <div class="course-progress">
    <el-statistic title="å­¦ä¹ è¿›åº¦" :value="courseProgress" suffix="%" />
    <el-progress
      :percentage="courseProgress"
      :stroke-width="20"
      :color="progressColor"
    />

    <div class="progress-stats">
      <div class="stat">
        <span>å·²å­¦ç« èŠ‚</span>
        <strong>{{ completedChapters }} / {{ totalChapters }}</strong>
      </div>
      <div class="stat">
        <span>å­¦ä¹ æ—¶é•¿</span>
        <strong>{{ formatDuration(totalStudyTime) }}</strong>
      </div>
      <div class="stat">
        <span>æœ€åå­¦ä¹ </span>
        <strong>{{ formatRelativeTime(lastStudyTime) }}</strong>
      </div>
    </div>
  </div>

  <!-- è¯¾ç¨‹ç›®å½•ï¼ˆç« èŠ‚æ ‘ï¼‰ -->
  <el-tree
    :data="courseChapters"
    node-key="id"
    :props="{ label: 'title', children: 'sections' }"
    :default-expand-all="false"
  >
    <template #default="{ node, data }">
      <div class="chapter-node">
        <span class="title">{{ data.title }}</span>

        <!-- èµ„æºç±»å‹å›¾æ ‡ -->
        <el-tag v-if="data.type === 'video'" size="small" type="success">
          <el-icon><VideoPlay /></el-icon> è§†é¢‘
        </el-tag>
        <el-tag v-else-if="data.type === 'pdf'" size="small" type="info">
          <el-icon><Document /></el-icon> æ–‡æ¡£
        </el-tag>

        <!-- å®ŒæˆçŠ¶æ€ -->
        <el-icon v-if="data.completed" color="#67c23a"><CircleCheck /></el-icon>

        <!-- å­¦ä¹ æŒ‰é’® -->
        <el-button
          v-if="!data.children"
          size="small"
          @click.stop="startLearning(data)"
        >
          {{ data.completed ? 'å¤ä¹ ' : 'å­¦ä¹ ' }}
        </el-button>
      </div>
    </template>
  </el-tree>

  <!-- è¯¾ç¨‹ç¬”è®° -->
  <el-card class="course-notes" style="margin-top: 20px;">
    <template #header>
      <span>æˆ‘çš„ç¬”è®°</span>
      <el-button size="small" @click="addNote">æ–°å»ºç¬”è®°</el-button>
    </template>

    <div v-for="note in courseNotes" :key="note.id" class="note-item">
      <div class="note-header">
        <span class="note-section">{{ note.sectionTitle }}</span>
        <span class="note-time">{{ formatTime(note.createTime) }}</span>
      </div>
      <div class="note-content">{{ note.content }}</div>
      <div class="note-actions">
        <el-button link @click="editNote(note)">ç¼–è¾‘</el-button>
        <el-button link type="danger" @click="deleteNote(note.id)">åˆ é™¤</el-button>
      </div>
    </div>
  </el-card>
</el-drawer>
```

#### 7.2 è§†é¢‘æ’­æ”¾ä¼˜åŒ–

```vue
<el-dialog v-model="showVideoPlayer" :title="currentVideo.title" fullscreen>
  <div class="video-player-container">
    <!-- ä½¿ç”¨Video.jsæˆ–DPlayer -->
    <video
      ref="videoRef"
      class="video-js"
      controls
      preload="auto"
      :poster="currentVideo.poster"
      @timeupdate="onTimeUpdate"
      @ended="onVideoEnded"
    >
      <source :src="currentVideo.url" type="video/mp4" />
    </video>

    <!-- å­¦ä¹ è¿›åº¦æ ‡è®° -->
    <div class="video-progress-markers">
      <div
        v-for="marker in progressMarkers"
        :key="marker.time"
        class="marker"
        :style="{ left: (marker.time / videoDuration * 100) + '%' }"
        @click="seekTo(marker.time)"
      >
        <el-tooltip :content="marker.note">
          <el-icon><Flag /></el-icon>
        </el-tooltip>
      </div>
    </div>

    <!-- å€é€Ÿæ§åˆ¶ -->
    <div class="playback-controls">
      <el-radio-group v-model="playbackRate" @change="changeSpeed">
        <el-radio-button :label="0.75">0.75x</el-radio-button>
        <el-radio-button :label="1.0">1.0x</el-radio-button>
        <el-radio-button :label="1.25">1.25x</el-radio-button>
        <el-radio-button :label="1.5">1.5x</el-radio-button>
        <el-radio-button :label="2.0">2.0x</el-radio-button>
      </el-radio-group>
    </div>

    <!-- è¯¾åç»ƒä¹  -->
    <div v-if="showQuiz" class="video-quiz">
      <h4>è¯¾åç»ƒä¹ </h4>
      <p>{{ currentQuiz.question }}</p>
      <el-radio-group v-model="quizAnswer">
        <el-radio
          v-for="option in currentQuiz.options"
          :key="option.key"
          :label="option.key"
        >
          {{ option.value }}
        </el-radio>
      </el-radio-group>
      <el-button @click="submitQuiz">æäº¤</el-button>
    </div>
  </div>
</el-dialog>

<script setup>
import videojs from 'video.js';
import 'video.js/dist/video-js.css';

let player: any = null;

onMounted(() => {
  player = videojs(videoRef.value, {
    fluid: true,
    playbackRates: [0.75, 1, 1.25, 1.5, 2],
    controlBar: {
      children: [
        'playToggle',
        'volumePanel',
        'currentTimeDisplay',
        'timeDivider',
        'durationDisplay',
        'progressControl',
        'playbackRateMenuButton',
        'fullscreenToggle'
      ]
    }
  });

  // æ¢å¤ä¸Šæ¬¡è§‚çœ‹è¿›åº¦
  if (lastWatchTime.value > 0) {
    player.currentTime(lastWatchTime.value);
  }
});

// æ¯5ç§’ä¿å­˜ä¸€æ¬¡è¿›åº¦
const onTimeUpdate = () => {
  const currentTime = player.currentTime();
  if (Math.floor(currentTime) % 5 === 0) {
    saveProgress(currentTime);
  }
};

// è§†é¢‘ç»“æŸï¼Œæ ‡è®°ä¸ºå·²å®Œæˆ
const onVideoEnded = () => {
  markAsCompleted(currentVideo.value.id);
  showQuiz.value = true; // æ˜¾ç¤ºè¯¾åç»ƒä¹ 
};
</script>
```

---

### 8. å†å²è®°å½•ä¸ç»“æœè¯¦æƒ…ä¼˜åŒ–

#### 8.1 æ•°æ®å¯è§†åŒ–å¢å¼º

```vue
<!-- History.vue -->
<el-card class="history-analytics">
  <template #header>
    <span>æˆç»©è¶‹åŠ¿</span>
  </template>

  <!-- æŠ˜çº¿å›¾ï¼šå†æ¬¡è€ƒè¯•å¾—åˆ† -->
  <div ref="scoreTrendChart" style="height: 300px;"></div>

  <!-- é›·è¾¾å›¾ï¼šå„ç§‘ç›®å¾—åˆ† -->
  <div ref="subjectRadarChart" style="height: 300px; margin-top: 20px;"></div>
</el-card>

<script setup>
const initScoreTrend = () => {
  const chart = echarts.init(scoreTrendChart.value);

  const option = {
    title: { text: 'æˆç»©è¶‹åŠ¿' },
    tooltip: { trigger: 'axis' },
    xAxis: {
      type: 'category',
      data: historyList.value.map(h => formatDate(h.examTime))
    },
    yAxis: { type: 'value', name: 'å¾—åˆ†', min: 0, max: 100 },
    series: [{
      type: 'line',
      data: historyList.value.map(h => h.score),
      smooth: true,
      areaStyle: {
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
          { offset: 0, color: 'rgba(64, 158, 255, 0.5)' },
          { offset: 1, color: 'rgba(64, 158, 255, 0.1)' }
        ])
      },
      markLine: {
        data: [
          { type: 'average', name: 'å¹³å‡åˆ†' },
          { yAxis: 60, name: 'åŠæ ¼çº¿', lineStyle: { color: '#e6a23c' } }
        ]
      }
    }]
  };

  chart.setOption(option);
};

const initSubjectRadar = () => {
  const chart = echarts.init(subjectRadarChart.value);

  const option = {
    title: { text: 'å„ç§‘ç›®å¾—åˆ†' },
    radar: {
      indicator: [
        { name: 'æ•°å­¦', max: 100 },
        { name: 'è¯­æ–‡', max: 100 },
        { name: 'è‹±è¯­', max: 100 },
        { name: 'ç‰©ç†', max: 100 },
        { name: 'åŒ–å­¦', max: 100 }
      ]
    },
    series: [{
      type: 'radar',
      data: [{
        value: subjectScores.value,
        name: 'æˆ‘çš„æˆç»©',
        areaStyle: {
          color: 'rgba(64, 158, 255, 0.3)'
        }
      }, {
        value: classAverages.value,
        name: 'ç­çº§å¹³å‡',
        areaStyle: {
          color: 'rgba(103, 194, 58, 0.3)'
        }
      }]
    }]
  };

  chart.setOption(option);
};
</script>
```

#### 8.2 è¯•å·åˆ†ææŠ¥å‘Š

```vue
<!-- ExamResultDetail.vue -->
<el-card class="exam-analysis">
  <template #header>
    <span>è¯•å·åˆ†æ</span>
    <el-button @click="exportReport">å¯¼å‡ºåˆ†ææŠ¥å‘Š</el-button>
  </template>

  <!-- çŸ¥è¯†ç‚¹æŒæ¡åº¦ -->
  <div class="knowledge-mastery">
    <h4>çŸ¥è¯†ç‚¹æŒæ¡åº¦</h4>
    <div
      v-for="kp in knowledgePoints"
      :key="kp.id"
      class="kp-item"
    >
      <span class="kp-name">{{ kp.name }}</span>
      <el-progress
        :percentage="kp.accuracy"
        :color="getMasteryColor(kp.accuracy)"
      />
      <span class="kp-stats">{{ kp.correct }} / {{ kp.total }}</span>
    </div>
  </div>

  <!-- é¢˜å‹åˆ†æ -->
  <div class="question-type-analysis">
    <h4>é¢˜å‹åˆ†æ</h4>
    <el-table :data="typeAnalysis">
      <el-table-column prop="type" label="é¢˜å‹" />
      <el-table-column prop="total" label="æ€»é¢˜æ•°" />
      <el-table-column prop="correct" label="ç­”å¯¹æ•°" />
      <el-table-column label="æ­£ç¡®ç‡">
        <template #default="{ row }">
          <el-tag :type="getAccuracyTagType(row.accuracy)">
            {{ row.accuracy }}%
          </el-tag>
        </template>
      </el-table-column>
      <el-table-column label="å»ºè®®">
        <template #default="{ row }">
          <span v-if="row.accuracy < 60">éœ€é‡ç‚¹ç»ƒä¹ </span>
          <span v-else-if="row.accuracy < 80">ç»§ç»­å·©å›º</span>
          <span v-else>æŒæ¡è‰¯å¥½</span>
        </template>
      </el-table-column>
    </el-table>
  </div>

  <!-- é”™é¢˜é›†ä¸­ç‚¹ -->
  <div class="error-hotspots">
    <h4>æ˜“é”™ç‚¹åˆ†æ</h4>
    <el-tag
      v-for="hotspot in errorHotspots"
      :key="hotspot.id"
      size="large"
      type="danger"
      style="margin: 5px;"
    >
      {{ hotspot.name }} ({{ hotspot.errorCount }}é¢˜)
    </el-tag>
  </div>

  <!-- AIå­¦ä¹ å»ºè®® -->
  <div class="ai-suggestions">
    <h4>ğŸ¤– AIå­¦ä¹ å»ºè®®</h4>
    <el-alert
      v-for="(suggestion, index) in aiSuggestions"
      :key="index"
      :title="suggestion.title"
      :type="suggestion.type"
      :description="suggestion.content"
      show-icon
      style="margin-bottom: 10px;"
    />
  </div>
</el-card>
```

---

## âš¡ é€šç”¨æ€§èƒ½ä¼˜åŒ–

### 1. å‰ç«¯æ€§èƒ½ä¼˜åŒ–

#### 1.1 ä»£ç åˆ†å‰²ä¸æ‡’åŠ è½½

```typescript
// router/index.ts - è·¯ç”±æ‡’åŠ è½½
const routes = [
  {
    path: '/student/dashboard',
    component: () => import('@/views/student/StudentDashboard.vue')
  },
  {
    path: '/student/practice',
    component: () => import('@/views/student/Practice.vue')
  },
  // ... å…¶ä»–è·¯ç”±
];

// ç»„ä»¶æ‡’åŠ è½½
<script setup>
import { defineAsyncComponent } from 'vue';

const HeavyComponent = defineAsyncComponent(() =>
  import('./HeavyComponent.vue')
);
</script>
```

#### 1.2 å›¾ç‰‡ä¼˜åŒ–

```vue
<template>
  <!-- å“åº”å¼å›¾ç‰‡ -->
  <picture>
    <source
      :srcset="getImageUrl(image, 'webp')"
      type="image/webp"
    />
    <source
      :srcset="getImageUrl(image, 'jpg')"
      type="image/jpeg"
    />
    <img
      :src="getImageUrl(image, 'jpg')"
      :alt="image.alt"
      loading="lazy"
    />
  </picture>

  <!-- ä½¿ç”¨ç¬¬ä¸‰æ–¹å›¾ç‰‡CDN -->
  <img
    :src="`https://cdn.example.com/images/${image.id}?w=400&q=80&fm=webp`"
    loading="lazy"
  />
</template>

<script setup>
// å›¾ç‰‡å‹ç¼©å’Œæ ¼å¼è½¬æ¢
const getImageUrl = (image: Image, format: 'webp' | 'jpg') => {
  const baseUrl = import.meta.env.VITE_IMAGE_CDN;
  return `${baseUrl}/${image.path}?format=${format}&quality=80`;
};
</script>
```

#### 1.3 è™šæ‹Ÿæ»šåŠ¨

```bash
npm install vue-virtual-scroller
```

```vue
<template>
  <RecycleScroller
    :items="longList"
    :item-size="60"
    key-field="id"
    v-slot="{ item }"
  >
    <div class="list-item">
      {{ item.name }}
    </div>
  </RecycleScroller>
</template>
```

### 2. APIä¼˜åŒ–

#### 2.1 è¯·æ±‚åˆå¹¶

```typescript
// åˆå¹¶å¤šä¸ªAPIè¯·æ±‚
const fetchDashboardData = async () => {
  const [stats, heatmap, leaderboard] = await Promise.all([
    fetchDashboardStats(),
    fetchActivityHeatmap(),
    fetchLeaderboard()
  ]);

  return { stats, heatmap, leaderboard };
};
```

#### 2.2 æ•°æ®ç¼“å­˜

```typescript
// ä½¿ç”¨Axiosæ‹¦æˆªå™¨å®ç°ç¼“å­˜
import { AxiosRequestConfig } from 'axios';

const cache = new Map<string, { data: any; timestamp: number }>();
const CACHE_TTL = 5 * 60 * 1000; // 5åˆ†é’Ÿ

axios.interceptors.request.use((config: AxiosRequestConfig) => {
  // ä»…GETè¯·æ±‚å¯ç”¨ç¼“å­˜
  if (config.method === 'get' && config.cache) {
    const cacheKey = config.url + JSON.stringify(config.params);
    const cached = cache.get(cacheKey);

    if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
      config.adapter = () => Promise.resolve({
        data: cached.data,
        status: 200,
        statusText: 'OK (Cached)',
        headers: {},
        config
      });
    }
  }

  return config;
});

axios.interceptors.response.use((response) => {
  if (response.config.method === 'get' && response.config.cache) {
    const cacheKey = response.config.url + JSON.stringify(response.config.params);
    cache.set(cacheKey, {
      data: response.data,
      timestamp: Date.now()
    });
  }

  return response;
});
```

#### 2.3 åˆ†é¡µä¼˜åŒ–

```typescript
// æ— é™æ»šåŠ¨æ›¿ä»£ä¼ ç»Ÿåˆ†é¡µ
import { useInfiniteScroll } from '@vueuse/core';

const list = ref<any[]>([]);
const currentPage = ref(1);
const hasMore = ref(true);
const loading = ref(false);

const loadMore = async () => {
  if (loading.value || !hasMore.value) return;

  loading.value = true;
  const res = await fetchList({ page: currentPage.value, size: 20 });

  list.value.push(...res.data);
  currentPage.value++;
  hasMore.value = res.data.length === 20;
  loading.value = false;
};

useInfiniteScroll(
  scrollContainer,
  loadMore,
  { distance: 100 }
);
```

---

## ğŸ¨ ç”¨æˆ·ä½“éªŒå¢å¼º

### 1. åŠ è½½çŠ¶æ€ä¼˜åŒ–

```vue
<template>
  <!-- éª¨æ¶å± -->
  <el-skeleton v-if="loading" :rows="5" animated />

  <!-- å®é™…å†…å®¹ -->
  <div v-else>
    <!-- ... -->
  </div>
</template>
```

### 2. é”™è¯¯å¤„ç†

```typescript
// å…¨å±€é”™è¯¯å¤„ç†
app.config.errorHandler = (err, instance, info) => {
  console.error('Global error:', err, info);

  ElMessage.error({
    message: 'æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
    duration: 3000
  });

  // ä¸ŠæŠ¥é”™è¯¯åˆ°ç›‘æ§ç³»ç»Ÿ
  reportError(err, { component: instance?.$options.name, info });
};

// APIé”™è¯¯å¤„ç†
axios.interceptors.response.use(
  response => response,
  error => {
    const errorMessages: Record<number, string> = {
      400: 'è¯·æ±‚å‚æ•°é”™è¯¯',
      401: 'æœªç™»å½•æˆ–ç™»å½•å·²è¿‡æœŸ',
      403: 'æ²¡æœ‰æƒé™',
      404: 'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨',
      500: 'æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•',
      503: 'æœåŠ¡æš‚æ—¶ä¸å¯ç”¨'
    };

    const status = error.response?.status;
    const message = errorMessages[status] || 'ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥';

    ElMessage.error(message);

    if (status === 401) {
      // è·³è½¬åˆ°ç™»å½•é¡µ
      router.push('/student/login');
    }

    return Promise.reject(error);
  }
);
```

### 3. ç¦»çº¿æ”¯æŒ

```typescript
// Service Workeræ³¨å†Œ
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js')
    .then(reg => console.log('SW registered:', reg))
    .catch(err => console.error('SW registration failed:', err));
}

// sw.js - ç¼“å­˜ç­–ç•¥
const CACHE_NAME = 'exam-system-v1';
const urlsToCache = [
  '/',
  '/student/dashboard',
  '/static/css/main.css',
  '/static/js/main.js'
];

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});

self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

---

## ğŸ”’ å®‰å…¨æ€§ä¼˜åŒ–

### 1. XSSé˜²æŠ¤

```typescript
// å†…å®¹è¿‡æ»¤
import DOMPurify from 'dompurify';

const sanitizeHTML = (html: string) => {
  return DOMPurify.sanitize(html, {
    ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'u', 'ul', 'ol', 'li'],
    ALLOWED_ATTR: []
  });
};

// ä½¿ç”¨
<div v-html="sanitizeHTML(question.content)"></div>
```

### 2. CSRFé˜²æŠ¤

```typescript
// Axiosæ‹¦æˆªå™¨æ·»åŠ CSRF Token
axios.interceptors.request.use((config) => {
  const csrfToken = document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');
  if (csrfToken) {
    config.headers['X-CSRF-TOKEN'] = csrfToken;
  }
  return config;
});
```

### 3. æ•æ„Ÿä¿¡æ¯ä¿æŠ¤

```typescript
// è„±æ•æ˜¾ç¤º
const maskPhone = (phone: string) => {
  return phone.replace(/(\d{3})\d{4}(\d{4})/, '$1****$2');
};

const maskIdCard = (idCard: string) => {
  return idCard.replace(/(\d{6})\d{8}(\d{4})/, '$1********$2');
};
```

---

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

### 1. å“åº”å¼å¸ƒå±€å¢å¼º

```scss
// ç§»åŠ¨ä¼˜å…ˆç­–ç•¥
.container {
  padding: 10px;

  @media (min-width: 768px) {
    padding: 20px;
  }

  @media (min-width: 1024px) {
    padding: 30px;
  }
}

// è§¦æ‘¸ä¼˜åŒ–
.button {
  min-height: 44px; // iOSæ¨èæœ€å°è§¦æ‘¸ç›®æ ‡
  min-width: 44px;
}
```

### 2. æ‰‹åŠ¿æ”¯æŒ

```typescript
import { useSwipe } from '@vueuse/core';

const { direction } = useSwipe(target, {
  onSwipeEnd(e, direction) {
    if (direction === 'left') {
      nextQuestion();
    } else if (direction === 'right') {
      prevQuestion();
    }
  }
});
```

### 3. PWAæ”¯æŒ

```json
// manifest.json
{
  "name": "è€ƒè¯•ç³»ç»Ÿå­¦ç”Ÿç«¯",
  "short_name": "è€ƒè¯•ç³»ç»Ÿ",
  "description": "åœ¨çº¿å­¦ä¹ å’Œè€ƒè¯•å¹³å°",
  "start_url": "/student/dashboard",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#409eff",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

---

## ğŸ¤– AIåŠŸèƒ½å¢å¼º

### 1. æ™ºèƒ½æ¨èç³»ç»Ÿ

```typescript
// åŸºäºååŒè¿‡æ»¤çš„é¢˜ç›®æ¨è
interface UserBehavior {
  userId: number;
  questionId: number;
  correct: boolean;
  timeSpent: number;
}

const getRecommendations = async (userId: number) => {
  // 1. è·å–ç”¨æˆ·è¡Œä¸ºæ•°æ®
  const userBehaviors = await fetchUserBehaviors(userId);

  // 2. æ‰¾åˆ°ç›¸ä¼¼ç”¨æˆ·
  const similarUsers = await findSimilarUsers(userId, userBehaviors);

  // 3. è·å–ç›¸ä¼¼ç”¨æˆ·ç­”å¯¹ä½†å½“å‰ç”¨æˆ·æœªåšçš„é¢˜
  const recommendations = await getUnsolvedQuestions(userId, similarUsers);

  return recommendations;
};
```

### 2. è‡ªç„¶è¯­è¨€æœç´¢

```vue
<el-input
  v-model="searchQuery"
  placeholder="è¾“å…¥é—®é¢˜ï¼ŒAIå¸®ä½ æ‰¾ç­”æ¡ˆ..."
  @keyup.enter="aiSearch"
>
  <template #prefix>
    <el-icon><Search /></el-icon>
  </template>
</el-input>

<script setup>
const aiSearch = async () => {
  loading.value = true;

  // ä½¿ç”¨AIç†è§£ç”¨æˆ·æ„å›¾
  const intent = await analyzeIntent(searchQuery.value);

  // æ ¹æ®æ„å›¾æ‰§è¡Œä¸åŒæ“ä½œ
  if (intent.type === 'FIND_QUESTION') {
    // æœç´¢é¢˜ç›®
    const questions = await searchQuestions(intent.keywords);
    showResults(questions);
  } else if (intent.type === 'LEARN_CONCEPT') {
    // æ¨èè¯¾ç¨‹
    const courses = await recommendCourses(intent.concept);
    showCourses(courses);
  } else if (intent.type === 'ASK_QUESTION') {
    // ç›´æ¥å›ç­”
    const answer = await askAI(searchQuery.value);
    showAnswer(answer);
  }

  loading.value = false;
};
</script>
```

---

## ğŸ§¹ æŠ€æœ¯å€ºåŠ¡æ¸…ç†

### 1. TypeScriptç±»å‹å®Œå–„

```typescript
// å®šä¹‰å®Œæ•´çš„ç±»å‹ç³»ç»Ÿ
interface Question {
  id: number;
  content: string;
  questionType: 1 | 2 | 3 | 4 | 5;
  options?: QuestionOption[];
  answer: string;
  description: string;
  imageUrl?: string;
  knowledgePointId?: number;
  difficulty: 1 | 2 | 3 | 4 | 5;
  createTime: string;
}

interface QuestionOption {
  key: string;
  value: string;
}

interface ExamPaper {
  id: number;
  name: string;
  description: string;
  totalScore: number;
  duration: number; // åˆ†é’Ÿ
  grade: string;
  subjectId: number;
  paperType: 1 | 2; // 1=ç»“æ„åŒ–, 2=å›¾ç‰‡
  questions?: PaperQuestion[];
  imageUrl?: string;
}

interface PaperQuestion {
  id: number;
  groupName: string;
  score: number;
  question: Question;
}

interface ExamResult {
  id: number;
  paperId: number;
  paperName: string;
  score: number;
  totalScore: number;
  duration: number;
  violationCount: number;
  answers: StudentAnswer[];
  examTime: string;
}

interface StudentAnswer {
  questionId: number;
  answer: string;
  correct: boolean;
  timeSpent: number;
}
```

### 2. ä»£ç è§„èŒƒåŒ–

```typescript
// ESLinté…ç½®
module.exports = {
  extends: [
    'plugin:vue/vue3-recommended',
    '@vue/typescript/recommended'
  ],
  rules: {
    'vue/multi-word-component-names': 'off',
    '@typescript-eslint/no-explicit-any': 'warn',
    '@typescript-eslint/explicit-module-boundary-types': 'off',
    'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off'
  }
};

// Prettieré…ç½®
module.exports = {
  semi: true,
  singleQuote: true,
  trailingComma: 'none',
  printWidth: 100,
  tabWidth: 2
};
```

### 3. ç»„ä»¶æŠ½å–

```vue
<!-- æŠ½å–é€šç”¨ç»„ä»¶ -->
<!-- components/QuestionDisplay.vue -->
<template>
  <div class="question-display">
    <div class="question-content" v-html="sanitize(question.content)"></div>

    <el-image
      v-if="question.imageUrl"
      :src="question.imageUrl"
      fit="contain"
      lazy
    />

    <div v-if="question.questionType !== 5" class="options">
      <div
        v-for="option in question.options"
        :key="option.key"
        class="option-item"
        :class="getOptionClass(option.key)"
        @click="selectOption(option.key)"
      >
        <span class="option-key">{{ option.key }}</span>
        <span class="option-value">{{ option.value }}</span>
      </div>
    </div>

    <el-input
      v-else
      v-model="answer"
      type="textarea"
      :rows="6"
      placeholder="è¯·è¾“å…¥ç­”æ¡ˆ..."
    />
  </div>
</template>
```

---

## ğŸ“Š å®æ–½è·¯çº¿å›¾

### Phase 1: æ€§èƒ½ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰
- [ ] APIè¯·æ±‚ä¼˜åŒ–ï¼ˆåˆå¹¶ã€ç¼“å­˜ï¼‰
- [ ] å›¾ç‰‡èµ„æºä¼˜åŒ–ï¼ˆWebPã€æ‡’åŠ è½½ï¼‰
- [ ] ä»£ç åˆ†å‰²å’Œè·¯ç”±æ‡’åŠ è½½
- [ ] è™šæ‹Ÿæ»šåŠ¨å®ç°

**é¢„æœŸæ”¶ç›Š**: é¦–å±åŠ è½½æ—¶é—´ â†“40%

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å¢å¼ºï¼ˆ2-3å‘¨ï¼‰
- [ ] ä»ªè¡¨æ¿æ•°æ®å¯è§†åŒ–
- [ ] ç»ƒä¹ é¢˜ç›®é¢„åŠ è½½
- [ ] æ™ºèƒ½ç»ƒä¹ ç®—æ³•ä¼˜åŒ–
- [ ] è€ƒè¯•é˜²ä½œå¼Šå¢å¼º

**é¢„æœŸæ”¶ç›Š**: ç”¨æˆ·ä½“éªŒæå‡ 30%

### Phase 3: AIåŠŸèƒ½å‡çº§ï¼ˆ2-3å‘¨ï¼‰
- [ ] é”™é¢˜æœ¬AIåˆ†æ
- [ ] çŸ¥è¯†é“¾æº¯æºå¯è§†åŒ–
- [ ] æ™ºèƒ½æ¨èç³»ç»Ÿ
- [ ] è‡ªç„¶è¯­è¨€æœç´¢

**é¢„æœŸæ”¶ç›Š**: AIä½¿ç”¨ç‡ â†‘50%

### Phase 4: ç¤¾äº¤ä¸åä½œï¼ˆ1-2å‘¨ï¼‰
- [ ] ç­çº§åŠ¨æ€å¢™
- [ ] å­¦ä¹ å°ç»„åŠŸèƒ½
- [ ] ç­çº§æ’è¡Œæ¦œä¼˜åŒ–
- [ ] è¯¾ç¨‹ç¬”è®°å’Œè®¨è®º

**é¢„æœŸæ”¶ç›Š**: ç”¨æˆ·æ´»è·ƒåº¦ â†‘40%

### Phase 5: ç§»åŠ¨ç«¯ä¼˜åŒ–ï¼ˆ1å‘¨ï¼‰
- [ ] å“åº”å¼å¸ƒå±€å®Œå–„
- [ ] æ‰‹åŠ¿æ”¯æŒ
- [ ] PWAæ”¯æŒ
- [ ] ç¦»çº¿åŠŸèƒ½

**é¢„æœŸæ”¶ç›Š**: ç§»åŠ¨ç«¯ä½¿ç”¨ç‡ â†‘60%

### Phase 6: æŠ€æœ¯å€ºåŠ¡æ¸…ç†ï¼ˆæŒç»­ï¼‰
- [ ] TypeScriptç±»å‹å®Œå–„
- [ ] ä»£ç è§„èŒƒåŒ–
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] æ–‡æ¡£å®Œå–„

**é¢„æœŸæ”¶ç›Š**: ä»£ç è´¨é‡æå‡ï¼Œç»´æŠ¤æˆæœ¬ â†“30%

---

## ğŸ’° é¢„æœŸæ”¶ç›Šåˆ†æ

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æå‡ |
|------|------|------|------|
| é¦–å±åŠ è½½æ—¶é—´ | 3.5s | 2.0s | â†“43% |
| äº¤äº’å“åº”æ—¶é—´ | 500ms | 200ms | â†“60% |
| é¡µé¢FPS | 45 | 60 | â†‘33% |
| å†…å­˜å ç”¨ | 150MB | 100MB | â†“33% |

### ç”¨æˆ·æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æå‡ |
|------|------|------|------|
| æ—¥æ´»è·ƒç”¨æˆ· | 500 | 800 | â†‘60% |
| å¹³å‡å­¦ä¹ æ—¶é•¿ | 25åˆ†é’Ÿ | 40åˆ†é’Ÿ | â†‘60% |
| ç­”é¢˜å®Œæˆç‡ | 65% | 85% | â†‘31% |
| ç”¨æˆ·ç•™å­˜ç‡ï¼ˆ7å¤©ï¼‰ | 40% | 60% | â†‘50% |

### ä¸šåŠ¡æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æå‡ |
|------|------|------|------|
| é¢˜ç›®å®Œæˆæ•°/æ—¥ | 5000 | 10000 | â†‘100% |
| AIåŠŸèƒ½ä½¿ç”¨ç‡ | 20% | 50% | â†‘150% |
| é”™é¢˜å¤ä¹ ç‡ | 30% | 60% | â†‘100% |
| è¯¾ç¨‹å®Œæˆç‡ | 15% | 35% | â†‘133% |

---

## ğŸ“ æ€»ç»“

æœ¬ä¼˜åŒ–æ–¹æ¡ˆä»**æ€§èƒ½ã€ä½“éªŒã€åŠŸèƒ½ã€å®‰å…¨**å››ä¸ªç»´åº¦å…¨é¢æå‡å­¦ç”Ÿç«¯ç³»ç»Ÿï¼š

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šé€šè¿‡ä»£ç åˆ†å‰²ã€èµ„æºä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥ï¼Œå¤§å¹…æå‡åŠ è½½é€Ÿåº¦
2. **ä½“éªŒä¼˜åŒ–**ï¼šå®Œå–„äº¤äº’ç»†èŠ‚ã€é”™è¯¯å¤„ç†ã€åŠ è½½çŠ¶æ€ï¼Œæå‡ç”¨æˆ·æ»¡æ„åº¦
3. **åŠŸèƒ½å¢å¼º**ï¼šAIåŠ©æ•™ã€æ™ºèƒ½æ¨èã€ç¤¾äº¤åä½œï¼Œå¢åŠ ç³»ç»Ÿä»·å€¼
4. **æŠ€æœ¯å‡çº§**ï¼šTypeScriptå®Œå–„ã€ä»£ç è§„èŒƒã€PWAæ”¯æŒï¼Œæé«˜å¯ç»´æŠ¤æ€§

**å…³é”®æˆåŠŸå› ç´ **:
- åˆ†é˜¶æ®µå®æ–½ï¼Œä¼˜å…ˆè§£å†³æ€§èƒ½å’Œä½“éªŒé—®é¢˜
- æŒç»­æ”¶é›†ç”¨æˆ·åé¦ˆï¼Œè¿­ä»£ä¼˜åŒ–
- é‡è§†æ•°æ®ç›‘æ§ï¼Œé‡åŒ–ä¼˜åŒ–æ•ˆæœ
- å‰åç«¯ååŒï¼Œç¡®ä¿åŠŸèƒ½å®Œæ•´æ€§

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2026-01-10
**ç»´æŠ¤å›¢é˜Ÿ**: å‰ç«¯å¼€å‘ç»„
